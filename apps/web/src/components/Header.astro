---
import Bag from "phosphor-astro/Bag.astro";
import { storefront } from "../storefront";

const mainMenu = await storefront.site.getMenu("main-menu");
---

<header>
  <a href="/">Storefront</a>
  {
    mainMenu && (
      <nav>
        {mainMenu.items.map((item) => (
          <a href={item.url}>{item.name}</a>
        ))}
      </nav>
    )
  }
  <button>
    <Bag height="1rem" width="1rem" />
    <small>{Astro.locals.cart?.totalQuantity ?? 0}</small>
  </button>
</header>

<style>
  header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
  }

  a {
    color: inherit;
    text-decoration: none;
  }

  nav {
    display: flex;
    gap: 1rem;
  }

  button {
    display: flex;
    gap: 0.25rem;
    align-items: center;
  }
</style>
