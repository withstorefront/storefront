---
import Hero from "../components/Hero.astro";
import ProductCardList from "../components/ProductCardList.astro";
import Layout from "../layouts/Page.astro";
import { storefront } from "../storefront";

const collection = await storefront.collections.getOne({
  slug: "automated-collection",
});

if (!collection) {
  throw new Error();
}

const { products } = collection;
---

<Layout>
  <Hero
    tagline="Ride the wave"
    cta={{ text: "Go to catalog", href: "/collections/all" }}
  />
  <ProductCardList name="Popular products" {products} />
</Layout>
